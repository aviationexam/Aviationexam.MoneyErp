parameters:
  - name: versions
    type: object
    default: [ '8.x', '9.x', '10.x' ]
  - name: dotnetPostFix
    type: string

steps:
- ${{ each v in parameters.versions }}:
  - task: UseDotNet@2
    displayName: 'Setup .NET SDK ${{ v }}'
    env:
      DOTNET_CLI_TELEMETRY_OPTOUT: 'true'
    inputs:
      packageType: 'sdk'
      includePreviewVersions: true
      installationPath: '$(Agent.ToolsDirectory)/dotnet-${{ parameters.dotnetPostFix }}'
      version: ${{ v }}
