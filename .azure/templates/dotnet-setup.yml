parameters:
  - name: versions
    type: object
    default: [ '8.x', '9.x', '10.x' ]

steps:
- ${{ each v in parameters.versions }}:
  - task: UseDotNet@2
    name: 'Setup .NET SDK 8.x'
    env:
      DOTNET_CLI_TELEMETRY_OPTOUT: 'true'
    inputs:
      packageType: 'sdk'
      includePreviewVersions: true
      installationPath: '$(Agent.ToolsDirectory)/dotnet-money-erp'
      version: ${{ v }}
